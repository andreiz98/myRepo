<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday</title>
     <style>
		body {
            background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%);
            font-family: 'Segoe UI', sans-serif;
            text-align: center;
            color: #222;
            padding: 40px 20px;
            overflow-x: hidden; 
        }
        
        .card {
            background: white;
            border-radius: 20px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
            padding: 30px;
            max-width: 450px; 
            margin: auto;
            opacity: 0; 
            
            /* START SMALL HEIGHT & HIDE OVERFLOW */
            max-height: 120px; 
            overflow: hidden;
            
            /* UPDATED: Add max-height to the transition list for smooth growth */
            transition: max-width 1s ease, max-height 1s ease, padding 1s ease, opacity 1s; 
            
            text-shadow: 1px 1px 2px rgba(255,255,255,0.5);
        }

        /* NEW CLASS: Allows the card to grow to its full height immediately */
        .card.full-height {
            max-height: 1000px; /* A value larger than the content requires */
        }

        /* RESIZED STATE: Used later for image viewing */
        .card.resized {
            max-width: 520px; 
        }

        /* TEXT ANIMATIONS */
        h2, p {
          opacity: 0;
          transform: translateY(50px);
          animation: slideUp 1s ease forwards;
        }

        h2 { animation-delay: 0.2s; }
        p:nth-of-type(1) { animation-delay: 1s; }
        p:nth-of-type(2) { animation-delay: 5s; }
        p:nth-of-type(3) { animation-delay: 8s; }
        p:nth-of-type(4) { animation-delay: 11s; }
        p:nth-of-type(5) { animation-delay: 14s; }
        p:nth-of-type(6) { animation-delay: 17s; } 
          
        @keyframes slideUp {
          0% { opacity: 0; transform: translateY(50px); }
          100% { opacity: 1; transform: translateY(0); }
        }

        /* SLIDESHOW CONTAINER */
        #slideshow {
            opacity: 0; 
            transform: scale(0.9);
            animation: fadeIn 1s ease forwards;
            animation-delay: 19s; 
            
            position: relative;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            background: white;
            border-radius: 15px;
            margin-top: 20px;
        }

        img {
          border-radius: 15px;
        }
        
        @keyframes fadeIn {
          to { opacity: 1; transform: scale(1); }
        }
  </style>
</head>
<body style="cursor:pointer;">

   <div id="click-to-play" style="
    position:fixed;
    top:0; left:0;
    width:100%; height:100%;
    display:flex;
    align-items:center;
    justify-content:center;
    background:rgba(255,255,255,0.9);
    font-size:24px;
    cursor:pointer;
    z-index:10;
    ">
    <h2>ğŸ¥³ğŸ‰ HAPPY BIRTHDAY Dudu ğŸ‰ğŸ¥³</h2>
</div>

  <div class="card" id="card" style="display:none;">
        <p>â—â€œATTENTION! EVERYONEâ€â—</p>
        <p>â€œDUDU has officially reachedâ€¦â€â³</p>
        <p>ğŸ‰â€œLEVEL 50!â€ğŸ‰</p>
        <p>â€œStill acts 20â€¦knees sound 80.â€ğŸ˜‚</p>
        <p>â€œThe age where memory is gone, hairline loading, energy expired.â€ğŸ‘´</p>
        <p>â€œHappy 50, Dudu! Youâ€™re not oldâ€¦ youâ€™re chronologically advanced.â€ ğŸ¥³</p>

        <div id="slideshow">
          <img src="https://andreiz98.github.io/myRepo/four/1.jpeg" class="slide" style="position:relative; width:100%; height:auto; opacity:1; transition: opacity 1s;">
          <img src="https://andreiz98.github.io/myRepo/four/2.jpeg" class="slide" style="position:absolute; width:100%; height:auto; opacity:0; transition: opacity 1s;">
          <img src="https://andreiz98.github.io/myRepo/four/3.jpeg" class="slide" style="position:absolute; width:100%; height:auto; opacity:0; transition: opacity 1s;">
          <img src="https://andreiz98.github.io/myRepo/four/4.jpeg" class="slide" style="position:absolute; width:100%; height:auto; opacity:0; transition: opacity 1s;">
          <img src="https://andreiz98.github.io/myRepo/four/5.jpeg" class="slide" style="position:absolute; width:100%; height:auto; opacity:0; transition: opacity 1s;">
          <img src="https://andreiz98.github.io/myRepo/four/6.jpeg" class="slide" style="position:absolute; width:100%; height:auto; opacity:0; transition: opacity 1s;">
          <img src="https://andreiz98.github.io/myRepo/four/7.jpeg" class="slide" style="position:absolute; width:100%; height:auto; opacity:0; transition: opacity 1s;">
          <img src="https://andreiz98.github.io/myRepo/four/8.jpeg" class="slide" style="position:absolute; width:100%; height:auto; opacity:0; transition: opacity 1s;">
          <img src="https://andreiz98.github.io/myRepo/four/9.jpeg" class="slide" style="position:absolute; width:100%; height:auto; opacity:0; transition: opacity 1s;">
        </div>
    </div>
    
    <audio id="bg-music" loop>
    <source src="https://andreiz98.github.io/myRepo/music3.mp3" type="audio/mpeg">
  </audio>

  <script>
    const clickOverlay = document.getElementById('click-to-play');
    const card = document.getElementById('card');
    const audio = document.getElementById('bg-music');

    function fadeInMusic(targetVolume = 0.2, step = 0.02, interval = 300) {
      audio.volume = 0;
      const fade = setInterval(() => {
        if (audio.volume < targetVolume) {
          audio.volume = Math.min(audio.volume + step, targetVolume);
        } else {
          clearInterval(fade);
        }
      }, interval);
    }

    clickOverlay.addEventListener('click', () => {
      clickOverlay.style.display = 'none';
		card.style.display = 'block';
    
      
      setTimeout(() => {
        card.style.opacity = 1;
        // NEW: Trigger the smooth vertical growth immediately
        card.classList.add('full-height'); 
      }, 50);

      // 2. **CRITICAL FIX for Mobile:** Start the audio immediately.
    // This maintains the link between the user's tap and the media starting.
		audio.currentTime = 85; // Or 0, depending on where you want it to start
		audio.play()
        .then(() => {
            // Start fade in for visuals and volume control after playback begins
            fadeInMusic(); 
            card.style.opacity = 1; // Start card fade-in
            // Add other immediate setup here (like the initial resizeCardToContent call)
        })
        .catch(error => {
            console.error("Autoplay failed:", error);
            // Handle error (e.g., show a message asking the user to manually enable sound)
        });
      
      const stopTime = 140;
      setTimeout(() => {
        audio.pause();
        audio.currentTime = 0;
      }, (stopTime - 85) * 1000);
      
      // TRIGGER WIDTH RESIZE & SLIDESHOW at 19 seconds
      setTimeout(() => {
         card.classList.add('resized'); 
         setInterval(showNextSlide, 3000);
      }, 19000); 
    });
    
    const slides = document.querySelectorAll('.slide');
    let current = 0;

    slides.forEach((s,i) => s.style.zIndex = 0);
    slides[current].style.opacity = 1;
    slides[current].style.zIndex = 1;

    function showNextSlide() {
      if (current < slides.length - 1) {
        slides[current].style.opacity = 0;
        slides[current].style.zIndex = 0;

        current++;

        slides[current].style.opacity = 1;
        slides[current].style.zIndex = 1;
      } 
    }
  </script>
    
</body>
</html>
